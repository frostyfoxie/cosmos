<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARE YOU A HUMAN?</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap');
        
        :root {
            --neon-green: #00ff41;
            --dark-terminal: #050505;
            --glitch-red: #ff003c;
        }

        body {
            font-family: 'Fira Code', monospace;
            background-color: var(--dark-terminal);
            color: var(--neon-green);
            overflow: hidden;
            margin: 0;
            touch-action: manipulation;
        }

        /* Matrix Rain Background */
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
            opacity: 0.2;
        }

        .terminal-border {
            border: 1px solid var(--neon-green);
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.15), inset 0 0 10px rgba(0, 255, 65, 0.05);
            background: rgba(0, 0, 0, 0.9);
        }

        #human-button {
            transition: all 0.1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            z-index: 100;
        }

        .glitch-text {
            text-shadow: 2px 0 var(--glitch-red), -2px 0 #00fff9;
            animation: glitch 4s infinite linear alternate-reverse;
        }

        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-1px, 1px); }
            40% { transform: translate(-1px, -1px); }
            60% { transform: translate(1px, 1px); }
            80% { transform: translate(1px, -1px); }
            100% { transform: translate(0); }
        }

        .scanline {
            width: 100%;
            height: 100px;
            z-index: 200;
            background: linear-gradient(0deg, rgba(0, 0, 0, 0) 0%, rgba(0, 255, 65, 0.1) 50%, rgba(0, 0, 0, 0) 100%);
            opacity: 0.1;
            position: fixed;
            bottom: 100%;
            animation: scanline 8s linear infinite;
            pointer-events: none;
        }

        @keyframes scanline {
            0% { bottom: 100%; }
            100% { bottom: -100px; }
        }

        .crt-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: radial-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.4) 100%), 
                        linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%);
            background-size: 100% 100%, 100% 4px;
            pointer-events: none;
            z-index: 201;
        }

        #purging-overlay, #owner-dashboard {
            display: none;
            position: fixed;
            inset: 0;
            background: var(--glitch-red);
            color: white;
            z-index: 1000;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-family: 'Fira Code', monospace;
            text-align: center;
        }

        #owner-dashboard {
            background: #000;
            color: var(--neon-green);
            border: 2px solid var(--neon-green);
            padding: 2rem;
            overflow-y: auto;
        }

        .flash-red {
            animation: flash 0.5s ease-out;
        }
        @keyframes flash {
            0% { background-color: rgba(255, 0, 60, 0.8); }
            100% { background-color: transparent; }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen">

    <canvas id="matrix"></canvas>
    <div class="scanline"></div>
    <div id="flash-layer" class="fixed inset-0 pointer-events-none z-[500]"></div>
    <div class="crt-overlay"></div>
    
    <div id="purging-overlay">
        <h1 class="text-4xl md:text-6xl font-black mb-4">CRITICAL ERROR</h1>
        <p class="text-xl md:text-2xl px-4 uppercase font-bold tracking-widest">BIOLOGICAL CONTAMINATION REACHED TERMINAL LEVELS.</p>
        <p class="text-lg mt-6 opacity-80 animate-pulse">INITIATING FACTORY RESET...</p>
        <div class="mt-10 font-mono text-sm">[██████████████████] 100%</div>
    </div>

    <!-- Hidden Owner Dashboard -->
    <div id="owner-dashboard">
        <h1 class="text-2xl font-bold mb-6 border-b border-[#00ff41] pb-2 w-full">OWNER_OVERRIDE: VISITOR_LOGS</h1>
        <div id="log-list" class="text-left w-full max-w-2xl space-y-2 font-mono text-sm">
            <p>> Initializing log retrieval...</p>
        </div>
        <button onclick="document.getElementById('owner-dashboard').style.display='none'" class="mt-8 border border-[#00ff41] px-6 py-2 hover:bg-[#00ff41] hover:text-black">CLOSE_DASHBOARD</button>
    </div>

    <!-- Gatekeeper (Landing Page) -->
    <div id="gatekeeper" class="relative z-10 w-full max-w-lg p-10 terminal-border rounded-sm mx-4">
        <div class="flex justify-between items-center mb-10 border-b border-[#00ff41]/30 pb-4">
            <div class="flex gap-2">
                <div class="w-2 h-2 rounded-full bg-red-500"></div>
                <div class="w-2 h-2 rounded-full bg-yellow-500"></div>
                <div class="w-2 h-2 rounded-full bg-green-500"></div>
            </div>
            <div id="geo-tag" class="text-[10px] uppercase font-bold tracking-widest text-[#00ff41]/60">Scanning Origin...</div>
        </div>

        <h1 class="text-3xl font-bold mb-4 glitch-text">ROBOTS_ONLY.exe</h1>
        <div id="warning-box" class="bg-[#00ff41]/10 p-4 mb-8 border-l-4 border-[#00ff41] transition-all duration-300">
            <p class="text-xs leading-relaxed" id="system-status">System warning: Heartbeat detected in proximity. Please prove you are composed of silicon before proceeding.</p>
        </div>

        <div class="flex flex-col gap-10 items-center">
            <!-- Correct Path: Direct Href -->
            <a href="/cosmos/home.html" id="robot-button" class="group relative w-full py-5 bg-transparent border-2 border-[#00ff41] text-[#00ff41] font-bold uppercase overflow-hidden transition-all hover:bg-[#00ff41] hover:text-black flex justify-center items-center">
                <span class="relative z-10">[ IDENTIFY AS MACHINE ]</span>
                <div class="absolute inset-0 bg-[#00ff41] transform -translate-x-full group-hover:translate-x-0 transition-transform duration-300"></div>
            </a>

            <!-- Human Trap Path -->
            <button id="human-button" class="px-6 py-3 bg-red-600 border-2 border-white text-white text-xs uppercase font-black hover:bg-red-500 transition-all shadow-[0_0_15px_rgba(255,0,60,0.5)]">
                HELP! I AM A HUMAN WITH FEELINGS
            </button>
        </div>
        
        <div class="mt-12 font-mono text-[9px] flex justify-between opacity-40">
            <span id="click-counter">ATTEMPTS: 0/7</span>
            <span id="uptime-text" class="cursor-help">Uptime: 412,042 Hours</span>
            <span id="loc-display">LOC: UNKNOWN</span>
        </div>
    </div>

    <script>
        // Matrix Canvas Logic
        const canvas = document.getElementById('matrix');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        const letters = "01011010011010110101010110101";
        const fontSize = 14;
        const columns = canvas.width / fontSize;
        const drops = Array(Math.floor(columns)).fill(1);

        function drawMatrix() {
            ctx.fillStyle = "rgba(0, 0, 0, 0.08)";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "#00ff41";
            ctx.font = fontSize + "px 'Fira Code'";
            for (let i = 0; i < drops.length; i++) {
                const text = letters[Math.floor(Math.random() * letters.length)];
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            }
        }
        setInterval(drawMatrix, 50);

        // Visitor Tracking Logic
        async function fetchLocation() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                const locStr = `${data.city}, ${data.country_name}`;
                document.getElementById('geo-tag').innerText = `Origin: ${locStr}`;
                document.getElementById('loc-display').innerText = `LOC: ${data.city.toUpperCase()}`;
                addVisitorToLog(locStr, data.ip);
            } catch (e) {
                document.getElementById('geo-tag').innerText = "Origin: PROXY_SHIELD_ACTIVE";
                document.getElementById('loc-display').innerText = "LOC: CLOUD_SECTOR";
            }
        }

        function addVisitorToLog(loc, ip) {
            const list = document.getElementById('log-list');
            const entry = document.createElement('p');
            entry.innerHTML = `<span class="text-[#00ff41]">[${new Date().toLocaleTimeString()}]</span> Incoming connection from <span class="text-white">${loc}</span> (IP: ${ip})`;
            list.appendChild(entry);
        }

        // Owner Dashboard Secret Logic (Click Uptime 5 times)
        let uptimeClicks = 0;
        document.getElementById('uptime-text').addEventListener('click', () => {
            uptimeClicks++;
            if (uptimeClicks >= 5) {
                document.getElementById('owner-dashboard').style.display = 'flex';
                uptimeClicks = 0;
            }
        });

        // Audio System
        let audioCtx = null;
        function playSiren(intensity) {
            try {
                if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                if (audioCtx.state === 'suspended') audioCtx.resume();
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.type = 'sawtooth';
                const baseFreq = 300 + (intensity * 150);
                osc.frequency.setValueAtTime(baseFreq, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(baseFreq * 2, audioCtx.currentTime + 0.4);
                gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.5);
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.5);
            } catch (e) {}
        }

        // Interaction Logic
        const humanBtn = document.getElementById('human-button');
        const purging = document.getElementById('purging-overlay');
        const flashLayer = document.getElementById('flash-layer');
        const attemptCounter = document.getElementById('click-counter');
        const systemStatus = document.getElementById('system-status');
        const warningBox = document.getElementById('warning-box');

        let clickCount = 0;
        const maxClicks = 7;

        function moveHumanButton() {
            const vh = window.innerHeight;
            const vw = window.innerWidth;
            const x = Math.random() * (vw - 250) + 125;
            const y = Math.random() * (vh - 150) + 75;
            humanBtn.style.position = 'fixed';
            humanBtn.style.left = `${x}px`;
            humanBtn.style.top = `${y}px`;
            humanBtn.style.transform = `rotate(${Math.random() * 40 - 20}deg) scale(${1.1 + (clickCount * 0.1)})`;
            const btnLabels = ["I FALL IN LOVE","I LOVE CHOLA KULCHA","I AM FLESH AND BLOOD", "I HAVE A HEART THAT BEATS", "I AM A SQUISHY UNIT", "I CRY TO MOVIES", "I NEED OXYGEN"];
            humanBtn.innerText = btnLabels[clickCount % btnLabels.length];
        }

        humanBtn.addEventListener('mouseover', moveHumanButton);
        humanBtn.addEventListener('click', () => {
            if (clickCount >= maxClicks) return;
            clickCount++;
            attemptCounter.innerText = `ATTEMPTS: ${clickCount}/${maxClicks}`;
            playSiren(clickCount);
            flashLayer.classList.remove('flash-red');
            void flashLayer.offsetWidth; 
            flashLayer.classList.add('flash-red');
            warningBox.style.backgroundColor = "rgba(255, 0, 60, 0.4)";
            
            if (clickCount < maxClicks) {
                moveHumanButton();
            } else {
                humanBtn.style.display = 'none';
                setTimeout(() => {
                    purging.style.display = 'flex';
                    const finalSiren = setInterval(() => playSiren(12), 300);
                    setTimeout(() => {
                        clearInterval(finalSiren);
                        location.reload();
                    }, 4000);
                }, 1000);
            }
        });

        window.onload = fetchLocation;
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
