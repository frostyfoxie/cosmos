<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thousand Pieces</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,700;1,400&family=Inter:wght@300;400&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color-1: #fde2e4;
            --bg-color-2: #fff1e6;
            --bg-color-3: #dfe7fd;
            --bg-color-4: #e5eaf5;
            --text-color: #575366;
            --accent-color: #d85a77;
            --card-bg: rgba(255, 255, 255, 0.4);
        }

        body {
            font-family: 'Inter', sans-serif, weight: '700';
            background: linear-gradient(-45deg, var(--bg-color-1), var(--bg-color-2), var(--bg-color-3), var(--bg-color-4));
            background-size: 400% 400%;
            animation: gradientBG 20s ease infinite;
            color: var(--text-color);
            overflow: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .title-font {
            font-family: 'Cormorant Garamond', serif;
        }

        /* Glassmorphism Card Effect */
        .card {
            background: var(--card-bg);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        /* Custom progress bar styles */
        .progress-bar-container {
            background-color: rgba(0, 0, 0, 0.1);
            height: 6px;
        }
        .progress-bar-fill {
            background-color: var(--accent-color);
            transition: width 0.1s linear;
        }

        /* Player button styles */
        .player-btn {
            background-color: rgba(255, 255, 255, 0.5);
            transition: all 0.2s ease;
        }
        .player-btn:hover {
            background-color: rgba(255, 255, 255, 0.9);
            transform: scale(1.1);
        }
        .player-btn:active {
            transform: scale(1.05);
        }
        .play-btn {
            background-color: var(--accent-color);
            color: white;
        }
        .play-btn:hover {
             background-color: #c94a68;
        }

        /* Lyrics styles */
        #lyrics-container {
            height: 30vh;
            max-height: 250px;
            overflow-y: hidden; /* We scroll programmatically */
            -webkit-mask-image: linear-gradient(transparent, black 20%, black 80%, transparent);
            mask-image: linear-gradient(transparent, black 20%, black 80%, transparent);
            scroll-behavior: smooth;
        }
        
        .lyric-line {
            transition: all 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
            opacity: 0.4;
            filter: blur(2px);
            transform: scale(0.95);
        }

        .lyric-line.active {
            opacity: 1;
            filter: blur(0);
            transform: scale(1.05);
            color: var(--accent-color);
            font-weight: 500;
        }
        
        .album-art.playing {
            animation: pulse 4s infinite ease-in-out;
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04); }
            50% { transform: scale(1.03); box-shadow: 0 20px 30px -8px rgba(216, 90, 119, 0.4), 0 15px 15px -8px rgba(216, 90, 119, 0.2); }
            100% { transform: scale(1); box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04); }
        }

    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
        <!-- Music Player Column -->
        <div class="flex justify-center">
            <div class="card w-full max-w-sm rounded-3xl shadow-2xl p-6 space-y-4">
                <!-- Album Art -->
                <div id="album-art" class="album-art aspect-square bg-gray-200 rounded-2xl shadow-lg flex items-center justify-center transition-all duration-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-24 h-24 text-gray-400 transition-all duration-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="0.5">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                      <path stroke-linecap="round" stroke-linejoin="round" d="M14.232 5.232l5.657 5.657-5.657 5.657" opacity="0.3" transform="translate(-10, -10) scale(0.3) rotate(45 12 12)" />
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0L12 14.364" opacity="0.5"/>
                    </svg>
                </div>

                <!-- Song Info -->
                <div class="text-center">
                    <h1 class="title-font text-3xl font-bold text-gray-800">Thousand Pieces</h1>
                    <p class="text-base text-gray-500">by Anonymous</p>
                </div>

                <!-- Progress Bar & Time -->
                <div class="space-y-1">
                    <div class="progress-bar-container w-full rounded-full cursor-pointer" id="progress-container">
                        <div id="progress-bar" class="progress-bar-fill h-full rounded-full"></div>
                    </div>
                    <div class="flex justify-between text-xs font-light">
                        <span id="current-time">0:00</span>
                        <span id="duration">3:45</span>
                    </div>
                </div>

                <!-- Controls -->
                <div class="flex justify-center items-center space-x-6">
                    <button class="player-btn p-3 rounded-full shadow">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M8.445 14.832A1 1 0 0010 14.226V5.774a1 1 0 00-1.555-.832L4.22 8.682a1 1 0 000 1.664l4.225 3.486zM10.771 8.682a1 1 0 000 1.664l4.224 3.486A1 1 0 0016.555 13V7a1 1 0 00-1.555-.832l-4.224 3.514z"></path></svg>
                    </button>
                    <button id="play-pause-btn" class="player-btn play-btn p-5 rounded-full shadow-lg">
                        <svg id="play-icon" class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path d="M4.555 5.168A1 1 0 003 6v8a1 1 0 001.555.832L10 11.168V8.832L4.555 5.168zM10 8.832l5.445-3.664A1 1 0 0117 6v8a1 1 0 01-1.555.832L10 11.168V8.832z"></path></svg>
                        <svg id="pause-icon" class="w-8 h-8 hidden" fill="currentColor" viewBox="0 0 20 20"><path d="M5 4h3v12H5V4zm7 0h3v12h-3V4z"></path></svg>
                    </button>
                    <button class="player-btn p-3 rounded-full shadow">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M11.555 5.168A1 1 0 0110 5.774v8.452a1 1 0 01-1.555.832L4.22 11.318a1 1 0 010-1.664l4.225-3.486zM9.229 11.318a1 1 0 010-1.664l-4.224-3.486A1 1 0 003.445 7v6a1 1 0 001.555.832l4.224-3.514z"></path></svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Lyrics Column -->
        <div class="relative flex items-center justify-center">
             <div id="lyrics-container" class="text-center space-y-6 text-xl md:text-2xl lg:text-3xl title-font font-weight: '700'">
                <!-- Lyrics will be injected here by JavaScript -->
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DOM ELEMENTS ---
            const playPauseBtn = document.getElementById('play-pause-btn');
            const playIcon = document.getElementById('play-icon');
            const pauseIcon = document.getElementById('pause-icon');
            const albumArt = document.getElementById('album-art');
            const progressBar = document.getElementById('progress-bar');
            const progressContainer = document.getElementById('progress-container');
            const currentTimeEl = document.getElementById('current-time');
            const durationEl = document.getElementById('duration');
            const lyricsContainer = document.getElementById('lyrics-container');
        

            // --- LYRICS DATA ---
            const lyrics = [
                { time: 2, text: "Break me into a thousand pieces‚Ä¶" },
                { time: 6, text: "Then say goodbye..." },
                { time: 10, text: "Break me into a thousand pieces..." },
                { time: 14, text: "Then say goodbye." },
                { time: 17, text: "üé∂" },
                { time: 19, text: "You said you loved me ‚Äî then did this, why?" },
                { time: 23, text: "Told me I was forever, then watched me die." },
                { time: 27, text: "Now I know that love‚Äôs just dressed-up lies," },
                { time: 31, text: "You ruined me ‚Äî just to go get high." },
                { time: 35, text: "" },
                { time: 37, text: "You cracked the glass, you watched me break," },
                { time: 41, text: "Told me ‚Äúmove on‚Äù while I sank in hate." },
                { time: 45, text: "Held me close, then tossed me away," },
                { time: 49, text: "Guess love‚Äôs just theater, and I‚Äôm the play." },
                { time: 54, text: "(Take a bow, you're the lead in this tragedy)" },
                { time: 58, text: "üî•" },
                { time: 60, text: "Break me into a thousand pieces, then say goodbye." },
                { time: 65, text: "Let me curl up and die, with no one to ask why." },
                { time: 70, text: "Thank God you left ‚Äî so I could cry." },
                { time: 75, text: "Break me into a thousand pieces... then say goodbye." },
                { time: 80, text: "üé∂" },
                { time: 82, text: "You said that love‚Äôs crazy ‚Äî but look what you made," },
                { time: 87, text: "Lonely echoes, a ghost in your wake." },
                { time: 92, text: "Said you wanted ‚Äúmore,‚Äù but gave me flames," },
                { time: 97, text: "Let alone be death to me‚Ä¶ and you still never stayed." },
                { time: 102, text: "" },
                { time: 104, text: "I built my life around your spark," },
                { time: 108, text: "Now I‚Äôm just ashes in the dark." },
                { time: 112, text: "And you? You‚Äôre out there making art," },
                { time: 116, text: "Out of people you break apart." },
                { time: 120, text: "üî•" },
                { time: 122, text: "Break me into a thousand pieces, say goodbye." },
                { time: 127, text: "You left, you cursed me, now let me cry." },
                { time: 132, text: "Break me into a thousand pieces, then say goodbye." },
                { time: 137, text: "Every scream in me still asks why." },
                { time: 142, text: "You played the part, and I played blind," },
                { time: 147, text: "Break me into a thousand pieces‚Ä¶ just one more time." },
                { time: 153, text: "üé¨" },
                { time: 155, text: "You were always good at leaving." },
                { time: 160, text: "But I...?" },
            ];

            // --- STATE ---
            let isPlaying = false;
            let currentTime = 0;
            const duration = 165; // Total song duration in seconds
            let animationFrameId;
            let currentLyricIndex = -1;
            let intervalId;

            // --- INITIALIZATION ---
            const init = () => {
                // Populate lyrics
                lyricsContainer.innerHTML = lyrics.map((line, index) => 
                    `<p id="lyric-${index}" class="lyric-line">${line.text || '&nbsp;'}</p>`
                ).join('');
                
                // Set duration display
                durationEl.textContent = formatTime(duration);
                
                // Set canvas size
                resizeCanvas();
                window.addEventListener('resize', resizeCanvas);

            };

            // --- FUNCTIONS ---
            const formatTime = (seconds) => {
                const minutes = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
            };

            const togglePlayPause = () => {
                isPlaying = !isPlaying;
                if (isPlaying) {
                    playIcon.classList.add('hidden');
                    pauseIcon.classList.remove('hidden');
                    albumArt.classList.add('playing');
                    startTimer();
                } else {
                    playIcon.classList.remove('hidden');
                    pauseIcon.classList.add('hidden');
                    albumArt.classList.remove('playing');
                    stopTimer();
                }
            };
            
            const startTimer = () => {
                intervalId = setInterval(() => {
                    currentTime++;
                    if (currentTime >= duration) {
                        currentTime = 0; // Loop the song
                    }
                    updateUI();
                }, 1000);
            }
            
            const stopTimer = () => {
                clearInterval(intervalId);
            }

            const updateUI = () => {
                // Update time display
                currentTimeEl.textContent = formatTime(currentTime);

                // Update progress bar
                const progressPercent = (currentTime / duration) * 100;
                progressBar.style.width = `${progressPercent}%`;

                // Update lyrics
                updateLyrics();
            };
            
            const updateLyrics = () => {
                const newLyricIndex = lyrics.findIndex(line => line.time > currentTime) - 1;

                if (newLyricIndex !== currentLyricIndex) {
                    // Remove active class from old lyric
                    if (currentLyricIndex > -1) {
                        const oldLyricEl = document.getElementById(`lyric-${currentLyricIndex}`);
                        if(oldLyricEl) oldLyricEl.classList.remove('active');
                    }
                    
                    // Add active class to new lyric
                    const newLyricEl = document.getElementById(`lyric-${newLyricIndex}`);
                     if(newLyricEl) {
                        newLyricEl.classList.add('active');
                        // Scroll to the new lyric line
                        const containerRect = lyricsContainer.getBoundingClientRect();
                        const lineRect = newLyricEl.getBoundingClientRect();
                        const scrollOffset = (lineRect.top - containerRect.top) - (containerRect.height / 2) + (lineRect.height / 2);
                        
                        lyricsContainer.scrollTop += scrollOffset;
                    }
                    currentLyricIndex = newLyricIndex;
                }
            }
            
            const handleProgressClick = (e) => {
                const width = progressContainer.clientWidth;
                const clickX = e.offsetX;
                currentTime = Math.floor((clickX / width) * duration);
                updateUI();
            };


            // --- EVENT LISTENERS ---
            playPauseBtn.addEventListener('click', togglePlayPause);
            progressContainer.addEventListener('click', handleProgressClick);

            // --- START ---
            init();
        });
    </script>
</body>
  </html>
              
